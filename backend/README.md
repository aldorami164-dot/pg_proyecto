# Backend - Hotel Casa Josefa

API REST para Sistema de Gesti√≥n Hotelera

## üöÄ Instalaci√≥n

### 1. Instalar dependencias

```bash
npm install
```

### 2. Configurar variables de entorno

Copiar `.env.example` a `.env` y completar con tus credenciales de Supabase:

```bash
cp .env.example .env
```

Editar `.env` con tus datos reales:

```env
# PostgreSQL (Supabase)
DATABASE_URL=postgresql://postgres:TU_PASSWORD@db.PROJECT_REF.supabase.co:5432/postgres
DB_HOST=db.PROJECT_REF.supabase.co
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=tu_password_de_supabase
DB_NAME=postgres
DB_SSL=true

# JWT (generar secrets seguros)
JWT_SECRET=tu_secret_key_minimo_32_caracteres
JWT_REFRESH_SECRET=otro_secret_diferente_minimo_32_caracteres

# Supabase (para Storage)
SUPABASE_URL=https://PROJECT_REF.supabase.co
SUPABASE_ANON_KEY=tu_anon_key
SUPABASE_SERVICE_KEY=tu_service_role_key
```

### 3. Verificar que la base de datos est√° instalada

Aseg√∫rate de haber ejecutado el script `EJECUTAR_COMPLETO.sql` de la Fase 1 en Supabase.

### 4. Iniciar servidor

```bash
# Modo desarrollo (con nodemon)
npm run dev

# Modo producci√≥n
npm start
```

El servidor iniciar√° en `http://localhost:3000`

---

## üìã Endpoints Implementados (Fase 2A + 2B + 2C + 2D - COMPLETO)

### üîê Autenticaci√≥n (`/api/auth`)

| M√©todo | Ruta | Descripci√≥n | Auth |
|--------|------|-------------|------|
| POST | `/auth/login` | Login con email + password | No |
| POST | `/auth/refresh` | Renovar access token | Refresh token |
| GET | `/auth/me` | Obtener usuario actual | S√≠ |
| POST | `/auth/logout` | Cerrar sesi√≥n | S√≠ |

**Ejemplo login:**
```bash
curl -X POST http://localhost:3000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "email": "admin@casajosefa.com",
    "password": "Admin123!"
  }'
```

### üõèÔ∏è Reservas (`/api/reservas`)

| M√©todo | Ruta | Descripci√≥n | Auth |
|--------|------|-------------|------|
| GET | `/reservas` | Listar con filtros | Admin/Recepcionista |
| GET | `/reservas/disponibilidad` | Habitaciones disponibles | No |
| GET | `/reservas/:id` | Detalles de reserva | Admin/Recepcionista |
| POST | `/reservas` | Crear reserva | Admin/Recepcionista |
| PUT | `/reservas/:id` | Actualizar reserva | Admin/Recepcionista |
| PATCH | `/reservas/:id/estado` | Cambiar estado | Admin/Recepcionista |

**Ejemplo crear reserva con hu√©sped nuevo:**
```bash
curl -X POST http://localhost:3000/api/reservas \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer TU_ACCESS_TOKEN" \
  -d '{
    "huesped": {
      "nombre": "Juan",
      "apellido": "P√©rez",
      "email": "juan@email.com",
      "telefono": "12345678"
    },
    "habitacion_id": 1,
    "fecha_checkin": "2025-11-01",
    "fecha_checkout": "2025-11-05",
    "numero_huespedes": 2,
    "canal_reserva": "booking",
    "notas": "Cliente VIP"
  }'
```

**Ejemplo crear reserva con hu√©sped existente:**
```bash
curl -X POST http://localhost:3000/api/reservas \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer TU_ACCESS_TOKEN" \
  -d '{
    "huesped_id": 5,
    "habitacion_id": 1,
    "fecha_checkin": "2025-11-01",
    "fecha_checkout": "2025-11-05",
    "numero_huespedes": 2,
    "canal_reserva": "whatsapp"
  }'
```

### üè† Habitaciones (`/api/habitaciones`)

| M√©todo | Ruta | Descripci√≥n | Auth |
|--------|------|-------------|------|
| GET | `/habitaciones` | Listar con filtros | Admin/Recepcionista |
| GET | `/habitaciones/:id` | Detalles de habitaci√≥n | Admin/Recepcionista |
| POST | `/habitaciones` | Crear habitaci√≥n | SOLO Admin |
| PUT | `/habitaciones/:id` | Actualizar (precio) | SOLO Admin |
| PATCH | `/habitaciones/:id/estado` | Cambiar estado | Admin/Recepcionista |
| DELETE | `/habitaciones/:id` | Desactivar | SOLO Admin |

### üì± C√≥digos QR (`/api/qr`)

| M√©todo | Ruta | Descripci√≥n | Auth |
|--------|------|-------------|------|
| GET | `/qr` | Listar c√≥digos QR | SOLO Admin |
| POST | `/qr/generar` | Generar QR en stock | SOLO Admin |
| PATCH | `/qr/:id/asignar` | Asignar QR a habitaci√≥n | SOLO Admin |
| PATCH | `/qr/:id/desasignar` | Desasignar QR | SOLO Admin |
| GET | `/qr/:codigo/habitacion` | Escanear QR (p√∫blico) | No |

**Ejemplo generar QR:**
```bash
curl -X POST http://localhost:3000/api/qr/generar \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer TU_TOKEN" \
  -d '{
    "cantidad": 10
  }'
```

**Ejemplo asignar QR a habitaci√≥n:**
```bash
curl -X PATCH http://localhost:3000/api/qr/1/asignar \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer TU_TOKEN" \
  -d '{
    "habitacion_id": 1
  }'
```

**Ejemplo escanear QR (p√∫blico):**
```bash
curl http://localhost:3000/api/qr/550e8400-e29b-41d4-a716-446655440000/habitacion
```

### üõéÔ∏è Solicitudes de Servicio (`/api/solicitudes`)

| M√©todo | Ruta | Descripci√≥n | Auth |
|--------|------|-------------|------|
| GET | `/solicitudes` | Listar solicitudes | Admin/Recepcionista |
| GET | `/solicitudes/:id` | Detalles de solicitud | Admin/Recepcionista |
| POST | `/solicitudes` | Crear solicitud (p√∫blico) | No |
| PATCH | `/solicitudes/:id/completar` | Marcar como completada | Admin/Recepcionista |

**Ejemplo crear solicitud desde plataforma QR (p√∫blico):**
```bash
curl -X POST http://localhost:3000/api/solicitudes \
  -H "Content-Type: application/json" \
  -d '{
    "habitacion_id": 1,
    "servicio_id": 2,
    "origen": "plataforma_qr",
    "notas": "Preferiblemente antes de las 3pm"
  }'
```

**Ejemplo completar solicitud:**
```bash
curl -X PATCH http://localhost:3000/api/solicitudes/1/completar \
  -H "Authorization: Bearer TU_TOKEN"
```

### üîî Notificaciones (`/api/notificaciones`)

| M√©todo | Ruta | Descripci√≥n | Auth |
|--------|------|-------------|------|
| GET | `/notificaciones` | Listar notificaciones | Admin/Recepcionista |
| GET | `/notificaciones/:id` | Detalles de notificaci√≥n | Admin/Recepcionista |
| PATCH | `/notificaciones/:id/leer` | Marcar como le√≠da | Admin/Recepcionista |
| PATCH | `/notificaciones/leer-todas` | Marcar todas como le√≠das | Admin/Recepcionista |

**Ejemplo listar notificaciones no le√≠das:**
```bash
curl http://localhost:3000/api/notificaciones?leida=false \
  -H "Authorization: Bearer TU_TOKEN"
```

**Ejemplo marcar notificaci√≥n como le√≠da:**
```bash
curl -X PATCH http://localhost:3000/api/notificaciones/1/leer \
  -H "Authorization: Bearer TU_TOKEN"
```

### üë• Usuarios (`/api/usuarios`)

| M√©todo | Ruta | Descripci√≥n | Auth |
|--------|------|-------------|------|
| GET | `/usuarios` | Listar usuarios | SOLO Admin |
| GET | `/usuarios/:id` | Detalles de usuario | SOLO Admin |
| POST | `/usuarios` | Crear usuario | SOLO Admin |
| PUT | `/usuarios/:id` | Actualizar usuario | SOLO Admin |
| PATCH | `/usuarios/:id/toggle-activo` | Activar/desactivar | SOLO Admin |

**Ejemplo crear usuario:**
```bash
curl -X POST http://localhost:3000/api/usuarios \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer TU_TOKEN" \
  -d '{
    "nombre": "Mar√≠a",
    "apellido": "Gonz√°lez",
    "email": "maria@casajosefa.com",
    "password": "Password123!",
    "rol_id": 2
  }'
```

### üìä Reportes (`/api/reportes`)

| M√©todo | Ruta | Descripci√≥n | Auth |
|--------|------|-------------|------|
| POST | `/reportes/ocupacion` | Generar reporte | Admin/Recepcionista |
| GET | `/reportes/ocupacion` | Listar reportes | Admin/Recepcionista |
| GET | `/reportes/ocupacion/:id` | Detalles de reporte | Admin/Recepcionista |

**Ejemplo generar reporte:**
```bash
curl -X POST http://localhost:3000/api/reportes/ocupacion \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer TU_TOKEN" \
  -d '{
    "fecha_inicio": "2025-10-01",
    "fecha_fin": "2025-10-07",
    "tipo_periodo": "semanal"
  }'
```

### üåê Plataforma P√∫blica (`/api/plataforma`)

| M√©todo | Ruta | Descripci√≥n | Auth |
|--------|------|-------------|------|
| GET | `/plataforma/contenido` | Obtener contenido CMS | No |
| GET | `/plataforma/experiencias` | Experiencias tur√≠sticas | No |
| GET | `/plataforma/servicios` | Servicios disponibles | No |
| POST | `/plataforma/comentarios` | Crear comentario | No |
| GET | `/plataforma/comentarios` | Listar comentarios | No |

**Ejemplo obtener contenido en ingl√©s:**
```bash
curl "http://localhost:3000/api/plataforma/contenido?idioma=en"
```

**Ejemplo crear comentario:**
```bash
curl -X POST http://localhost:3000/api/plataforma/comentarios \
  -H "Content-Type: application/json" \
  -d '{
    "nombre_huesped": "John Doe",
    "comentario": "Excelente experiencia, habitaciones limpias y personal amable.",
    "calificacion": 5
  }'
```

### üñºÔ∏è Galer√≠a (`/api/galeria`)

| M√©todo | Ruta | Descripci√≥n | Auth |
|--------|------|-------------|------|
| GET | `/galeria` | Listar im√°genes | No |
| POST | `/galeria` | Subir imagen (multipart) | SOLO Admin |
| PUT | `/galeria/:id` | Actualizar metadata | SOLO Admin |
| DELETE | `/galeria/:id` | Eliminar imagen | SOLO Admin |
| PATCH | `/galeria/:id/toggle-activo` | Activar/desactivar | SOLO Admin |

**Ejemplo subir imagen (multipart/form-data):**
```bash
curl -X POST http://localhost:3000/api/galeria \
  -H "Authorization: Bearer TU_TOKEN" \
  -F "imagen=@/ruta/a/imagen.jpg" \
  -F "titulo=Vista del lago" \
  -F "categoria=vistas" \
  -F "descripcion=Hermosa vista del Lago Atitl√°n" \
  -F "orden=1"
```

---

## üîî WebSocket - Notificaciones en Tiempo Real

### Conexi√≥n
```
ws://localhost:3001
```

### Autenticaci√≥n
Al conectar, enviar mensaje con token:
```javascript
{
  "type": "auth",
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}
```

### Respuesta de autenticaci√≥n exitosa:
```json
{
  "type": "auth_success",
  "message": "Autenticado como Admin Sistema (administrador)",
  "user": {
    "id": 1,
    "nombre": "Admin",
    "apellido": "Sistema",
    "email": "admin@casajosefa.com",
    "rol": "administrador"
  }
}
```

### Notificaciones en tiempo real:
```json
{
  "type": "nueva_notificacion",
  "data": {
    "id": 15,
    "tipo": "solicitud_servicio",
    "titulo": "Nueva solicitud de servicio",
    "mensaje": "Habitaci√≥n 101 solicita: Servicio de Lavander√≠a",
    "prioridad": "alta",
    "habitacion_numero": "101",
    "creado_en": "2025-10-05T14:30:00Z"
  }
}
```

### Ping/Pong (mantener conexi√≥n activa):
```javascript
// Cliente env√≠a:
{ "type": "ping" }

// Servidor responde:
{ "type": "pong" }
```

### Ejemplo JavaScript (cliente):
```javascript
const ws = new WebSocket('ws://localhost:3001');

ws.onopen = () => {
  // Autenticar
  ws.send(JSON.stringify({
    type: 'auth',
    token: 'tu_access_token_aqui'
  }));

  // Ping cada 30 segundos
  setInterval(() => {
    ws.send(JSON.stringify({ type: 'ping' }));
  }, 30000);
};

ws.onmessage = (event) => {
  const data = JSON.parse(event.data);

  if (data.type === 'nueva_notificacion') {
    console.log('Nueva notificaci√≥n:', data.data);
    // Mostrar notificaci√≥n en UI
  }
};
```

---

## üîí Autenticaci√≥n JWT

### Obtener token

1. Hacer login para obtener `accessToken` y `refreshToken`
2. Incluir `accessToken` en header Authorization de todas las requests:

```
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### Duraci√≥n de tokens

- **Access Token:** 7 d√≠as (configurable en `.env`)
- **Refresh Token:** 30 d√≠as (configurable en `.env`)

### Renovar token expirado

```bash
curl -X POST http://localhost:3000/api/auth/refresh \
  -H "Authorization: Bearer TU_REFRESH_TOKEN"
```

---

## üß™ Testing con cURL

### 1. Login
```bash
curl -X POST http://localhost:3000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"admin@casajosefa.com","password":"Admin123!"}'
```

Guardar el `accessToken` de la respuesta.

### 2. Crear habitaci√≥n (solo admin)
```bash
curl -X POST http://localhost:3000/api/habitaciones \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer TU_TOKEN" \
  -d '{
    "numero": "101",
    "tipo_habitacion_id": 2,
    "precio_por_noche": 250.00,
    "descripcion": "Habitaci√≥n doble con vista al lago"
  }'
```

### 3. Consultar disponibilidad
```bash
curl "http://localhost:3000/api/reservas/disponibilidad?fecha_checkin=2025-11-01&fecha_checkout=2025-11-05"
```

### 4. Crear reserva
```bash
curl -X POST http://localhost:3000/api/reservas \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer TU_TOKEN" \
  -d '{
    "huesped": {
      "nombre": "Mar√≠a",
      "apellido": "Garc√≠a"
    },
    "habitacion_id": 1,
    "fecha_checkin": "2025-11-01",
    "fecha_checkout": "2025-11-05",
    "canal_reserva": "presencial"
  }'
```

### 5. Cambiar estado a confirmada (check-in)
```bash
curl -X PATCH http://localhost:3000/api/reservas/1/estado \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer TU_TOKEN" \
  -d '{"estado": "confirmada"}'
```

Verificar que la habitaci√≥n cambi√≥ autom√°ticamente a estado "ocupada".

---

## üìÅ Estructura del Proyecto

```
backend/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ config/              # Configuraciones (DB, JWT, Supabase)
‚îÇ   ‚îú‚îÄ‚îÄ controllers/         # L√≥gica de negocio
‚îÇ   ‚îú‚îÄ‚îÄ middleware/          # Middleware (auth, validation, errors)
‚îÇ   ‚îú‚îÄ‚îÄ routes/              # Definici√≥n de rutas
‚îÇ   ‚îú‚îÄ‚îÄ validators/          # Esquemas Joi
‚îÇ   ‚îú‚îÄ‚îÄ utils/               # Utilidades (logger, response)
‚îÇ   ‚îî‚îÄ‚îÄ app.js              # Configuraci√≥n de Express
‚îú‚îÄ‚îÄ .env                     # Variables de entorno (NO commitear)
‚îú‚îÄ‚îÄ .env.example            # Plantilla de variables
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ server.js               # Punto de entrada
‚îî‚îÄ‚îÄ README.md
```

---

## üöÄ Despliegue en Render

### Configurar Variables de Entorno en Render

En el dashboard de Render, agregar las siguientes variables de entorno:

**Base de Datos:**
```
DB_HOST=aws-1-us-east-2.pooler.supabase.com
DB_PORT=6543
DB_NAME=postgres
DB_USER=postgres.tkapgaullvnpzjkssthb
DB_PASSWORD=PPDPdhNo5ourm1ta
DB_SSL=true
DATABASE_URL=postgresql://postgres.tkapgaullvnpzjkssthb:PPDPdhNo5ourm1ta@aws-1-us-east-2.pooler.supabase.com:6543/postgres
```

**Supabase:**
```
SUPABASE_URL=https://tkapgaullvnpzjkssthb.supabase.co
SUPABASE_ANON_KEY=tu_anon_key
SUPABASE_SERVICE_KEY=tu_service_key
```

**JWT:**
```
JWT_SECRET=sJv2Yp_bYy2bNiigviNfpbXo-LKK3uaWAYkYI7GSypY=
JWT_REFRESH_SECRET=RfW9p6nXUoL4t0iZqD8bVrKj2HsGmE3pA7YxTnC5
```

**CORS (IMPORTANTE):**
```
FRONTEND_URL=https://tu-app.vercel.app
```

Si tienes m√∫ltiples dominios (desarrollo + producci√≥n):
```
FRONTEND_URL=http://localhost:5173,https://tu-app.vercel.app,https://tu-dominio.com
```

**Servidor:**
```
NODE_ENV=production
PORT=3001
WS_PORT=3002
```

### Build Command (Render)
```
npm install
```

### Start Command (Render)
```
npm start
```

---

## ‚öôÔ∏è Variables de Entorno

| Variable | Descripci√≥n | Ejemplo |
|----------|-------------|---------|
| `NODE_ENV` | Entorno de ejecuci√≥n | `development` o `production` |
| `PORT` | Puerto del servidor | `3000` |
| `DB_HOST` | Host de PostgreSQL | `db.abc123.supabase.co` |
| `DB_PORT` | Puerto de PostgreSQL | `5432` |
| `DB_USER` | Usuario de PostgreSQL | `postgres` |
| `DB_PASSWORD` | Password de PostgreSQL | `tu_password` |
| `DB_NAME` | Nombre de la base de datos | `postgres` |
| `DB_SSL` | Usar SSL | `true` |
| `JWT_SECRET` | Secret para access tokens | String largo aleatorio |
| `JWT_EXPIRES_IN` | Duraci√≥n de access token | `7d` |
| `JWT_REFRESH_SECRET` | Secret para refresh tokens | String diferente |
| `JWT_REFRESH_EXPIRES_IN` | Duraci√≥n de refresh token | `30d` |
| `SUPABASE_URL` | URL de Supabase | `https://abc123.supabase.co` |
| `SUPABASE_ANON_KEY` | Anon key de Supabase | Tu anon key |
| `SUPABASE_SERVICE_KEY` | Service key de Supabase | Tu service key |
| `WS_PORT` | Puerto del servidor WebSocket | `3001` |
| `CORS_ORIGIN` | Or√≠genes permitidos CORS | `http://localhost:5173,https://tudominio.com` |

---

## üîç Validaciones Implementadas

### Reservas

‚úÖ Validaci√≥n de solapamiento de fechas (funci√≥n PostgreSQL)
‚úÖ Verificar capacidad m√°xima de habitaci√≥n
‚úÖ No permitir editar reservas completadas/canceladas
‚úÖ Transiciones de estado v√°lidas
‚úÖ Campos requeridos (Joi)

### Habitaciones

‚úÖ N√∫mero de habitaci√≥n √∫nico
‚úÖ Solo admin puede crear/editar/desactivar
‚úÖ No permitir desactivar con reservas activas
‚úÖ Estado 'ocupada' solo se maneja autom√°ticamente

### Autenticaci√≥n

‚úÖ Email v√°lido
‚úÖ Password m√≠nimo 6 caracteres (login)
‚úÖ Password seguro al crear usuario (8 chars, may√∫scula, min√∫scula, n√∫mero)
‚úÖ Verificar usuario activo
‚úÖ Rate limiting en login (5 intentos / 15 min)

---

## üö® Manejo de Errores

Todos los errores retornan formato estandarizado:

```json
{
  "success": false,
  "message": "Descripci√≥n del error",
  "errors": [] // Opcional, para errores de validaci√≥n
}
```

### C√≥digos HTTP

- `200` - OK
- `201` - Creado
- `400` - Request inv√°lido
- `401` - No autenticado
- `403` - Sin permisos
- `404` - No encontrado
- `409` - Conflicto (ej: solapamiento de fechas)
- `429` - Demasiadas peticiones (rate limit)
- `500` - Error del servidor

---

## üìù Logs

El servidor loguea autom√°ticamente:

- ‚úÖ Operaciones exitosas (color verde)
- ‚ÑπÔ∏è Informaci√≥n general (color azul)
- ‚ö†Ô∏è Advertencias (color amarillo)
- ‚ùå Errores (color rojo)
- üêõ Debug (solo en development)

---

## üîê Seguridad Implementada

- ‚úÖ **Helmet:** Headers de seguridad HTTP
- ‚úÖ **CORS:** Or√≠genes permitidos configurables
- ‚úÖ **Rate Limiting:** Protecci√≥n contra brute force y spam
- ‚úÖ **JWT:** Autenticaci√≥n stateless
- ‚úÖ **Bcrypt:** Hash seguro de passwords (cost factor 10)
- ‚úÖ **Joi:** Validaci√≥n y sanitizaci√≥n de inputs
- ‚úÖ **Prepared Statements:** Protecci√≥n contra SQL injection

---

## ‚úÖ M√≥dulos Completados

- [x] **Fase 2A:** Autenticaci√≥n, Reservas, Habitaciones ‚úÖ
- [x] **Fase 2B:** C√≥digos QR, Solicitudes de Servicio, Notificaciones ‚úÖ
- [x] **Fase 2C:** WebSocket server para notificaciones en tiempo real ‚úÖ
- [x] **Fase 2D:** Usuarios (CRUD), Reportes, Plataforma P√∫blica, Galer√≠a (Supabase Storage) ‚úÖ

**üéâ BACKEND COMPLETO - 100% IMPLEMENTADO**

---

## üÜò Troubleshooting

### Error: "Cannot connect to PostgreSQL"

- Verifica credenciales en `.env`
- Verifica que Supabase est√° activo
- Verifica que `DB_SSL=true`

### Error: "Token expirado"

- Usa el endpoint `/api/auth/refresh` con tu refresh token

### Error: "La habitaci√≥n no est√° disponible"

- Ya existe una reserva en esas fechas
- Usa `/api/reservas/disponibilidad` para consultar disponibilidad

### Error: "Acceso denegado"

- Verifica que el usuario tiene el rol correcto
- Login: cualquiera
- Reservas/Habitaciones: admin o recepcionista
- Crear/Editar habitaciones: SOLO admin

---

**‚úÖ FASE 2A COMPLETADA**
**‚úÖ FASE 2B COMPLETADA**
**‚úÖ FASE 2C COMPLETADA**
**‚úÖ FASE 2D COMPLETADA**

**üéâ BACKEND 100% FUNCIONAL**

M√≥dulos implementados:
- ‚úÖ Autenticaci√≥n JWT (access + refresh tokens)
- ‚úÖ Reservas con validaci√≥n de solapamiento
- ‚úÖ Gesti√≥n de Habitaciones
- ‚úÖ C√≥digos QR (generar, asignar, escanear)
- ‚úÖ Solicitudes de Servicio (p√∫blico)
- ‚úÖ Notificaciones (GET, marcar le√≠da)
- ‚úÖ WebSocket en tiempo real (puerto 3001)
- ‚úÖ Usuarios (CRUD completo)
- ‚úÖ Reportes de ocupaci√≥n
- ‚úÖ Plataforma P√∫blica (contenido, experiencias, servicios, comentarios)
- ‚úÖ Galer√≠a con Supabase Storage (upload de im√°genes)

**Pr√≥ximo paso:** Fase 3 - Frontend (React + Vite + Tailwind)
